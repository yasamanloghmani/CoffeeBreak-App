{"ast":null,"code":"var _jsxFileName = \"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/src/pages/GroupPage/GroupPage.jsx\";\nimport React, { Component } from \"react\"; // import {Route, Switch, Link} from 'react-router-dom';\n\nimport './GroupPage.css';\nimport GroupHeader from '../../components/GroupHeader/GroupHeader';\nimport GroupDashboard from '../../components/GroupDashboard/GroupDashboard';\nimport ChatBox from '../../components/ChatBox/ChatBox';\nimport userService from '../../utils/userService';\nimport groupService from '../../utils/groupService';\nimport postService from '../../utils/postService';\n\nclass GroupPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      groups: [],\n      lastGroup: {\n        tips: [],\n        users: [],\n        posts: []\n      }\n    };\n\n    this.handleLastGroup = async groupId => {\n      const lastGroup = await groupService.getGroup(groupId);\n      this.setState({\n        lastGroup\n      });\n      this.handlePosts(lastGroup._id);\n    };\n\n    this.handlePosts = async groupId => {\n      const posts = await postService.getAllPosts(groupId);\n      this.setState({\n        posts\n      });\n    };\n\n    this.handleAddPost = async newPostData => {\n      const lastGroup = await postService.createPost(newPostData);\n      this.setState({ ...lastGroup\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const groups = await userService.getAllGroups(this.props.user.id);\n    this.setState({\n      groups\n    });\n    this.handleLastGroup(groups[groups.length - 1]);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"GroupPage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flexLeft\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(GroupHeader, {\n      lastGroup: this.state.lastGroup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(GroupDashboard, {\n      lastGroup: this.state.lastGroup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flexRight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ChatBox, {\n      lastGroup: this.state.lastGroup,\n      handleAddPost: this.handleAddPost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    })));\n  }\n\n}\n\nexport default GroupPage;","map":{"version":3,"sources":["/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/src/pages/GroupPage/GroupPage.jsx"],"names":["React","Component","GroupHeader","GroupDashboard","ChatBox","userService","groupService","postService","GroupPage","state","groups","lastGroup","tips","users","posts","handleLastGroup","groupId","getGroup","setState","handlePosts","_id","getAllPosts","handleAddPost","newPostData","createPost","componentDidMount","getAllGroups","props","user","id","length","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,OAAO,iBAAP;AACA,OAAOC,WAAP,MAAwB,0CAAxB;AACA,OAAOC,cAAP,MAA2B,gDAA3B;AACA,OAAOC,OAAP,MAAoB,kCAApB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;;AAEA,MAAMC,SAAN,SAAwBP,SAAxB,CAAiC;AAAA;AAAA;AAAA,SAC7BQ,KAD6B,GACrB;AACJC,MAAAA,MAAM,EAAE,EADJ;AAEJC,MAAAA,SAAS,EAAG;AAACC,QAAAA,IAAI,EAAG,EAAR;AAAaC,QAAAA,KAAK,EAAG,EAArB;AAAyBC,QAAAA,KAAK,EAAG;AAAjC;AAFR,KADqB;;AAAA,SAK7BC,eAL6B,GAKX,MAAOC,OAAP,IAAmB;AACjC,YAAML,SAAS,GAAG,MAAML,YAAY,CAACW,QAAb,CAAsBD,OAAtB,CAAxB;AACA,WAAKE,QAAL,CAAc;AAACP,QAAAA;AAAD,OAAd;AACA,WAAKQ,WAAL,CAAiBR,SAAS,CAACS,GAA3B;AAEH,KAV4B;;AAAA,SAW7BD,WAX6B,GAWf,MAAOH,OAAP,IAAmB;AAC7B,YAAMF,KAAK,GAAG,MAAMP,WAAW,CAACc,WAAZ,CAAwBL,OAAxB,CAApB;AACA,WAAKE,QAAL,CAAc;AAACJ,QAAAA;AAAD,OAAd;AACH,KAd4B;;AAAA,SAe7BQ,aAf6B,GAeb,MAAMC,WAAN,IAAqB;AACjC,YAAMZ,SAAS,GAAG,MAAMJ,WAAW,CAACiB,UAAZ,CAAuBD,WAAvB,CAAxB;AACA,WAAKL,QAAL,CAAc,EAAC,GAAGP;AAAJ,OAAd;AACH,KAlB4B;AAAA;;AAmB7B,QAAMc,iBAAN,GAA0B;AACtB,UAAMf,MAAM,GAAG,MAAML,WAAW,CAACqB,YAAZ,CAAyB,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,EAAzC,CAArB;AAEA,SAAKX,QAAL,CAAc;AAACR,MAAAA;AAAD,KAAd;AACA,SAAKK,eAAL,CAAqBL,MAAM,CAACA,MAAM,CAACoB,MAAP,GAAc,CAAf,CAA3B;AACH;;AAEDC,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,WAAD;AAAa,MAAA,SAAS,EAAE,KAAKtB,KAAL,CAAWE,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,eAEA,oBAAC,cAAD;AAAgB,MAAA,SAAS,EAAE,KAAKF,KAAL,CAAWE,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CADJ,eAKI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAE,KAAKF,KAAL,CAAWE,SAA/B;AAA0C,MAAA,aAAa,EAAE,KAAKW,aAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CALJ,CADJ;AAcH;;AAzC4B;;AA8CjC,eAAed,SAAf","sourcesContent":["import React, { Component } from \"react\";\n// import {Route, Switch, Link} from 'react-router-dom';\nimport './GroupPage.css';\nimport GroupHeader from '../../components/GroupHeader/GroupHeader';\nimport GroupDashboard from '../../components/GroupDashboard/GroupDashboard';\nimport ChatBox from '../../components/ChatBox/ChatBox';\nimport userService from '../../utils/userService';\nimport groupService from '../../utils/groupService';\nimport postService from '../../utils/postService';\n\nclass GroupPage extends Component{\n    state = {\n        groups: [],\n        lastGroup : {tips : [] , users : [], posts : []}\n    }\n    handleLastGroup = async (groupId) => {\n        const lastGroup = await groupService.getGroup(groupId);\n        this.setState({lastGroup});\n        this.handlePosts(lastGroup._id);\n        \n    }\n    handlePosts = async (groupId) => {\n        const posts = await postService.getAllPosts(groupId);\n        this.setState({posts})\n    }\n    handleAddPost = async newPostData => {\n        const lastGroup = await postService.createPost(newPostData);\n        this.setState({...lastGroup})\n    }\n    async componentDidMount() {\n        const groups = await userService.getAllGroups(this.props.user.id);\n        \n        this.setState({groups});\n        this.handleLastGroup(groups[groups.length-1]) \n    }\n    \n    render(){\n        return(\n            <div className='GroupPage'>\n                <div className='flexLeft'>\n                <GroupHeader lastGroup={this.state.lastGroup}></GroupHeader>\n                <GroupDashboard lastGroup={this.state.lastGroup}></GroupDashboard>\n                </div>\n                <div className='flexRight'>\n                <ChatBox lastGroup={this.state.lastGroup} handleAddPost={this.handleAddPost}></ChatBox>\n                </div>\n                \n               \n            </div>\n        );\n\n    }\n    \n}\n\n\nexport default GroupPage;"]},"metadata":{},"sourceType":"module"}