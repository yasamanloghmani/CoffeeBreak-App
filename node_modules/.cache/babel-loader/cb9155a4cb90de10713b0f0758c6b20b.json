{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import userService from\"../../utils/userService\";import{Redirect}from\"react-router-dom\";export var ProfilePage=/*#__PURE__*/function(_Component){_inherits(ProfilePage,_Component);var _super=_createSuper(ProfilePage);function ProfilePage(props){var _this;_classCallCheck(this,ProfilePage);_this=_super.call(this,props);_this.handleChange=function(evt){_this.setState(_defineProperty({},evt.target.name,evt.target.value));};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(evt){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();_context.prev=1;_context.next=4;return userService.updateUser(_this.state);case 4:_this.props.history.push(\"/profile\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(evt){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:evt.preventDefault();_context2.prev=1;console.log(_this.props.user);_context2.next=5;return userService.deleteUser(_this.props.user);case 5:_this.setState({isDeleted:true});_this.props.handleDeleteProfile();_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.state={name:\"\".concat(_this.props.user.name),limitOfCoffee:\"\".concat(_this.props.user.limitOfCoffee),limitOfExpense:\"\".concat(_this.props.user.limitOfExpense),isDeleted:false};return _this;}_createClass(ProfilePage,[{key:\"render\",value:function render(){if(this.state.isDeleted){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}else{return/*#__PURE__*/ (// <div className=\"ProfilePage\">\n//     <div className=\"\">\n//         <header>\n//             <h2 className=\"basic-title font-weight-bold profile-title\">\n//                 {this.props.user.name}'s Profile\n//             </h2>\n//         </header>\n//         <br />\n//         <form\n//             onSubmit={this.handleSubmit}\n//             className=\"form-horizontal\"\n//         >\n//             <div className=\"form-group row mx-auto\">\n//                 <label\n//                     htmlFor=\"name\"\n//                     className=\"col-sm-3 col-form-label\"\n//                 >\n//                     Name:\n//                 </label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control col-sm-6 mb-4\"\n//                     id=\"name\"\n//                     value={this.state.name}\n//                     name=\"name\"\n//                     onChange={this.handleChange}\n//                 />\n//             </div>\n//             <div className=\"form-group row mx-auto\">\n//                 <label\n//                     htmlFor=\"limitOfCoffee\"\n//                     className=\"col-sm-3 col-form-label\"\n//                 >\n//                     Limit Of Coffee Per Day:\n//                 </label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control col-sm-6 mb-4\"\n//                     id=\"limitOfCoffee\"\n//                     value={this.state.limitOfCoffee}\n//                     name=\"limitOfCoffee\"\n//                     onChange={this.handleChange}\n//                 />\n//             </div>\n//             <div className=\"form-group row mx-auto\">\n//                 <label\n//                     htmlFor=\"limitOfExpense\"\n//                     className=\"col-sm-3 col-form-label\"\n//                 >\n//                     Limit Of Expense Per Day:\n//                 </label>\n//                 <input\n//                     type=\"text\"\n//                     className=\"form-control col-sm-6 mb-4\"\n//                     name=\"limitOfExpense\"\n//                     value={this.state.limitOfExpense}\n//                     onChange={this.handleChange}\n//                 />\n//             </div>\n//             <div className=\"d-flex justify-content-center\">\n//                 <button\n//                     type=\"submit\"\n//                     className=\"btn\"\n//                     onClick={this.handleSubmit}\n//                 >\n//                     Update\n//                 </button>\n//                 <button\n//                     className=\"btn\"\n//                     onClick={this.handleDelete}\n//                 >\n//                     Delete Account\n//                 </button>\n//             </div>\n//         </form>\n//     </div>\n//     <br />\n// </div>\nReact.createElement(\"p\",null,\"Hi\"));}}}]);return ProfilePage;}(Component);export default ProfilePage;","map":{"version":3,"sources":["/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/src/pages/ProfilePage/ProfilePage.jsx"],"names":["React","Component","userService","Redirect","ProfilePage","props","handleChange","evt","setState","target","name","value","handleSubmit","preventDefault","updateUser","state","history","push","console","log","handleDelete","user","deleteUser","isDeleted","handleDeleteProfile","limitOfCoffee","limitOfExpense"],"mappings":"szCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CAGA,UAAaC,CAAAA,WAAb,0GAEI,qBAAYC,KAAZ,CAAmB,6CACf,uBAAMA,KAAN,EADe,MAUnBC,YAVmB,CAUJ,SAAAC,GAAG,CAAI,CAClB,MAAKC,QAAL,oBACKD,GAAG,CAACE,MAAJ,CAAWC,IADhB,CACuBH,GAAG,CAACE,MAAJ,CAAWE,KADlC,GAGH,CAdkB,OAgBnBC,YAhBmB,0FAgBJ,iBAAML,GAAN,kHACXA,GAAG,CAACM,cAAJ,GADW,sCAGDX,CAAAA,WAAW,CAACY,UAAZ,CAAuB,MAAKC,KAA5B,CAHC,QAIP,MAAKV,KAAL,CAAWW,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB,EAJO,+EAMPC,OAAO,CAACC,GAAR,cANO,oEAhBI,qEA0BnBC,YA1BmB,2FA0BJ,kBAAMb,GAAN,sHACXA,GAAG,CAACM,cAAJ,GADW,iBAGPK,OAAO,CAACC,GAAR,CAAY,MAAKd,KAAL,CAAWgB,IAAvB,EAHO,uBAIDnB,CAAAA,WAAW,CAACoB,UAAZ,CAAuB,MAAKjB,KAAL,CAAWgB,IAAlC,CAJC,QAKP,MAAKb,QAAL,CAAc,CAAEe,SAAS,CAAE,IAAb,CAAd,EACA,MAAKlB,KAAL,CAAWmB,mBAAX,GANO,mFAQPN,OAAO,CAACC,GAAR,eARO,sEA1BI,iEAEf,MAAKJ,KAAL,CAAa,CACTL,IAAI,WAAK,MAAKL,KAAL,CAAWgB,IAAX,CAAgBX,IAArB,CADK,CAETe,aAAa,WAAK,MAAKpB,KAAL,CAAWgB,IAAX,CAAgBI,aAArB,CAFJ,CAGTC,cAAc,WAAM,MAAKrB,KAAL,CAAWgB,IAAX,CAAgBK,cAAtB,CAHL,CAITH,SAAS,CAAE,KAJF,CAAb,CAFe,aAQlB,CAVL,+DAwCa,CACL,GAAI,KAAKR,KAAL,CAAWQ,SAAf,CAA0B,CACtB,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACH,CAFD,IAEO,CACH,oBACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA,kCAjFJ,EAmFH,CACJ,CAhIL,yBAAiCtB,SAAjC,EAmIA,cAAeG,CAAAA,WAAf","sourcesContent":["import React, { Component } from \"react\";\nimport userService from \"../../utils/userService\";\nimport { Redirect } from \"react-router-dom\";\n\n\nexport class ProfilePage extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            name: `${this.props.user.name}`,\n            limitOfCoffee: `${this.props.user.limitOfCoffee}`,\n            limitOfExpense : `${this.props.user.limitOfExpense}`,\n            isDeleted: false\n        };\n    }\n\n    handleChange = evt => {\n        this.setState({\n            [evt.target.name]: evt.target.value\n        });\n    };\n\n    handleSubmit = async evt => {\n        evt.preventDefault();\n        try {\n            await userService.updateUser(this.state);\n            this.props.history.push(\"/profile\");\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    handleDelete = async evt => {\n        evt.preventDefault();\n        try {\n            console.log(this.props.user)\n            await userService.deleteUser(this.props.user);\n            this.setState({ isDeleted: true });\n            this.props.handleDeleteProfile();\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    render() {\n        if (this.state.isDeleted) {\n            return <Redirect to=\"/\" />;\n        } else {\n            return (\n                // <div className=\"ProfilePage\">\n                //     <div className=\"\">\n                //         <header>\n                //             <h2 className=\"basic-title font-weight-bold profile-title\">\n                //                 {this.props.user.name}'s Profile\n                //             </h2>\n                //         </header>\n                //         <br />\n                //         <form\n                //             onSubmit={this.handleSubmit}\n                //             className=\"form-horizontal\"\n                //         >\n                //             <div className=\"form-group row mx-auto\">\n                //                 <label\n                //                     htmlFor=\"name\"\n                //                     className=\"col-sm-3 col-form-label\"\n                //                 >\n                //                     Name:\n                //                 </label>\n                //                 <input\n                //                     type=\"text\"\n                //                     className=\"form-control col-sm-6 mb-4\"\n                //                     id=\"name\"\n                //                     value={this.state.name}\n                //                     name=\"name\"\n                //                     onChange={this.handleChange}\n                //                 />\n                //             </div>\n                //             <div className=\"form-group row mx-auto\">\n                //                 <label\n                //                     htmlFor=\"limitOfCoffee\"\n                //                     className=\"col-sm-3 col-form-label\"\n                //                 >\n                //                     Limit Of Coffee Per Day:\n                //                 </label>\n                //                 <input\n                //                     type=\"text\"\n                //                     className=\"form-control col-sm-6 mb-4\"\n                //                     id=\"limitOfCoffee\"\n                //                     value={this.state.limitOfCoffee}\n                //                     name=\"limitOfCoffee\"\n                //                     onChange={this.handleChange}\n                //                 />\n                //             </div>\n                //             <div className=\"form-group row mx-auto\">\n                //                 <label\n                //                     htmlFor=\"limitOfExpense\"\n                //                     className=\"col-sm-3 col-form-label\"\n                //                 >\n                //                     Limit Of Expense Per Day:\n                //                 </label>\n                //                 <input\n                //                     type=\"text\"\n                //                     className=\"form-control col-sm-6 mb-4\"\n                //                     name=\"limitOfExpense\"\n                //                     value={this.state.limitOfExpense}\n                //                     onChange={this.handleChange}\n                //                 />\n                //             </div>\n                //             <div className=\"d-flex justify-content-center\">\n                //                 <button\n                //                     type=\"submit\"\n                //                     className=\"btn\"\n                //                     onClick={this.handleSubmit}\n                //                 >\n                //                     Update\n                //                 </button>\n                //                 <button\n                //                     className=\"btn\"\n                //                     onClick={this.handleDelete}\n                //                 >\n                //                     Delete Account\n                //                 </button>\n                //             </div>\n                            \n                //         </form>\n                //     </div>\n                    \n                //     <br />\n                // </div>\n                <p>Hi</p>\n            );\n        }\n    }\n}\n\nexport default ProfilePage;"]},"metadata":{},"sourceType":"module"}