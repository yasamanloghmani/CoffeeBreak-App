{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';// import coffeeService from '../../utils/coffeeService';\nimport'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import{Route,Switch,Redirect}from'react-router-dom';import Menu from'../../components/Menu/Menu';import SignupPage from'../../pages/SignupPage/SignupPage';import LoginPage from'../../pages/LoginPage/LoginPage';import ProfilePage from'../ProfilePage/ProfilePage';import GroupPage from'../GroupPage/GroupPage';import MainDashboard from'../MainDashboard/MainDashboard';import userService from'../../utils/userService';import{ThemeProvider}from'styled-components';import{lightTheme,darkTheme}from'../Theme/theme';import{GlobalStyles}from'../Theme/global';import groupService from'../../utils/groupService';// import tokenService from '../../utils/tokenService';\nvar App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:userService.getUser()};_this.toggleTheme=function(){if(_this.state.theme==='light'){_this.setState({theme:'dark'});}else{_this.setState({theme:'light'});}};_this.handleLogout=function(){userService.logout();_this.setState({user:null});};_this.handleSignupOrLogin=function(){_this.setState({user:userService.getUser()});};_this.handleDeleteProfile=function(){_this.setState({user:null});};_this.handleJoinGroup=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(groupId){var usergroup;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return groupService.join(groupId);case 2:usergroup=_context.sent;case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(App,[{key:\"shouldComponentUpdate\",value:function(){var _shouldComponentUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",true);case 1:case\"end\":return _context2.stop();}}},_callee2);}));function shouldComponentUpdate(){return _shouldComponentUpdate.apply(this,arguments);}return shouldComponentUpdate;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(ThemeProvider,{theme:this.state.theme==='light'?lightTheme:darkTheme},/*#__PURE__*/React.createElement(\"div\",{className:\"main-page\"},/*#__PURE__*/React.createElement(GlobalStyles,null),/*#__PURE__*/React.createElement(Menu,{user:this.state.user,handleLogout:this.handleLogout,toggleTheme:this.toggleTheme,theme:this.state.theme}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(_ref2){var history=_ref2.history;return userService.getUser()?/*#__PURE__*/React.createElement(MainDashboard,{history:history,user:_this2.state.user,handleJoinGroup:_this2.handleJoinGroup,usergroup:_this2.state.usergroup}):/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/profile\",render:function render(_ref3){var history=_ref3.history;return userService.getUser()?/*#__PURE__*/React.createElement(ProfilePage,{history:history,user:_this2.state.user,handleDeleteProfile:_this2.handleDeleteProfile}):/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/group\",render:function render(_ref4){var history=_ref4.history;return userService.getUser()?/*#__PURE__*/React.createElement(GroupPage,{history:history,user:_this2.state.user,usergroup:_this2.state.usergroup}):/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/signup\",render:function render(_ref5){var history=_ref5.history;return/*#__PURE__*/React.createElement(SignupPage,{history:history,handleSignupOrLogin:_this2.handleSignupOrLogin});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/login\",render:function render(_ref6){var history=_ref6.history;return/*#__PURE__*/React.createElement(LoginPage,{history:history,handleSignupOrLogin:_this2.handleSignupOrLogin});}})))));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/src/pages/App/App.js"],"names":["React","Component","Route","Switch","Redirect","Menu","SignupPage","LoginPage","ProfilePage","GroupPage","MainDashboard","userService","ThemeProvider","lightTheme","darkTheme","GlobalStyles","groupService","App","state","user","getUser","toggleTheme","theme","setState","handleLogout","logout","handleSignupOrLogin","handleDeleteProfile","handleJoinGroup","groupId","join","usergroup","history"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n// import coffeeService from '../../utils/coffeeService';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport { Route, Switch, Redirect} from 'react-router-dom';\nimport Menu from '../../components/Menu/Menu';\nimport SignupPage from '../../pages/SignupPage/SignupPage';\nimport LoginPage from '../../pages/LoginPage/LoginPage';\nimport ProfilePage from '../ProfilePage/ProfilePage';\nimport GroupPage from '../GroupPage/GroupPage';\nimport MainDashboard from '../MainDashboard/MainDashboard';\nimport userService from '../../utils/userService';\nimport { ThemeProvider } from 'styled-components';\nimport { lightTheme, darkTheme } from '../Theme/theme';\nimport { GlobalStyles } from '../Theme/global';\nimport groupService from '../../utils/groupService';\n// import tokenService from '../../utils/tokenService';\n\nclass App extends Component {\n  state = {\n    user: userService.getUser(),\n    \n}\n\ntoggleTheme = () => {\n  if (this.state.theme === 'light') {\n    this.setState({theme : 'dark'});\n  } else {\n    this.setState({theme : 'light'});\n  }\n}\n\nhandleLogout = () => {\n    userService.logout();\n    this.setState({ user: null });\n}\n\nhandleSignupOrLogin = () => {\n    this.setState({ user: userService.getUser() });\n}\nhandleDeleteProfile = () => {\n  this.setState({ user: null });\n};\n\nhandleJoinGroup = async (groupId) => {\n  const usergroup = await groupService.join(groupId);\n  // const user = usergroup.user;\n  // const group = usergroup.group;\n  // this.setState({user})\n  \n}\n\nasync shouldComponentUpdate(){\n  return true;\n}\n\n  render() {\n  return (\n    <ThemeProvider theme={this.state.theme === 'light' ? lightTheme : darkTheme}>\n    <div className='main-page'>\n    <GlobalStyles />\n      <Menu \n        user={this.state.user}\n        handleLogout={this.handleLogout}\n        toggleTheme={this.toggleTheme}\n        theme={this.state.theme}\n      />\n      <div>\n      \n      <Switch>  \n        <Route\n          exact\n          path=\"/\"\n          render={({ history }) => \n          userService.getUser() ? (\n          <MainDashboard\n            history={history}\n            user={this.state.user}\n            handleJoinGroup={this.handleJoinGroup}\n            usergroup={this.state.usergroup}\n            />\n            ) : (\n              <Redirect to=\"/login\" />\n              )\n          }\n      />\n        <Route \n          exact\n           path=\"/profile\" \n           render={({ history }) => \n            userService.getUser() ? (\n              <ProfilePage \n                history={history}\n                user = {this.state.user}\n                handleDeleteProfile={this.handleDeleteProfile}\n              />\n              ) : (\n                <Redirect to=\"/login\" />\n                )\n              }\n          />\n        <Route\n      \n          exact\n          path=\"/group\"\n          render={({ history }) =>\n          userService.getUser() ? (\n            <GroupPage\n              history={history}\n              user={this.state.user}\n              usergroup={this.state.usergroup}\n              />\n              \n              ) : (\n                <Redirect to=\"/login\" />\n            )\n          }\n      />\n        <Route exact path=\"/signup\" render={({ history }) => (\n            <SignupPage history={history} handleSignupOrLogin={this.handleSignupOrLogin} />\n        )} />\n        <Route exact path=\"/login\" render={({ history }) => (\n            <LoginPage history={history} handleSignupOrLogin={this.handleSignupOrLogin} />\n        )} />\n        \n        </Switch>\n      </div>\n    </div>\n    </ThemeProvider>\n  );\n        }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}