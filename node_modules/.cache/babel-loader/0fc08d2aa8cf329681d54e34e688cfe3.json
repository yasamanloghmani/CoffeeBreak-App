{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import coffeeService from'../../utils/coffeeService';import groupService from'../../utils/groupService';import MainHeader from'../../components/MainHeader/MainHeader';import Dashboard from'../../components/Dashboard/Dashboard';import GroupView from'../../components/GroupView/GroupView';var MainDashboard=/*#__PURE__*/function(_Component){_inherits(MainDashboard,_Component);var _super=_createSuper(MainDashboard);function MainDashboard(){var _this;_classCallCheck(this,MainDashboard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={coffees:[],theme:'light',sumSize:0,sumCost:0,costpercent:0,costdata:_this.getCostData(0),sizepercent:0,sizedata:_this.getSizeData(0),group:[{}]};_this.handleAddCoffee=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(newCoffeeData){var coffees,sumSize,sumCost,costpercent,sizepercent;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return coffeeService.create(newCoffeeData,_this.props.user.id);case 2:coffees=_context.sent;sumSize=coffees.reduce(function(prev,cur){return prev+cur.size;},0);sumCost=coffees.reduce(function(prev,cur){return prev+cur.price;},0);costpercent=sumCost/_this.props.user.limitOfExpense*100;sizepercent=sumSize/_this.props.user.limitOfCoffee*100;_this.setState({coffees:coffees,sumCost:sumCost,sumSize:sumSize,costpercent:costpercent,costdata:_this.getCostData(costpercent),sizepercent:sizepercent,sizedata:_this.getSizeData(sizepercent)});case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleAddGroup=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(newGroupData){var group;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return groupService.create(newGroupData);case 2:group=_context2.sent;_this.setState({group:group});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();return _this;}_createClass(MainDashboard,[{key:\"getCostData\",value:function getCostData(costpercent){return[{x:1,y:costpercent},{x:2,y:100-costpercent}];}},{key:\"getSizeData\",value:function getSizeData(sizepercent){return[{x:1,y:sizepercent},{x:2,y:100-sizepercent}];}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var coffees,group,sumSize,sumCost,costpercent,sizepercent;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return coffeeService.getAll(this.props.user.id);case 2:coffees=_context3.sent;_context3.next=5;return groupService.getAll();case 5:group=_context3.sent;sumSize=coffees.reduce(function(prev,cur){return prev+cur.size;},0);sumCost=coffees.reduce(function(prev,cur){return prev+cur.price;},0);costpercent=sumCost/this.props.user.limitOfExpense*100;sizepercent=sumSize/this.props.user.limitOfCoffee*100;this.setState({coffees:coffees,sumCost:sumCost,sumSize:sumSize,costpercent:costpercent,costdata:this.getCostData(costpercent),sizepercent:sizepercent,sizedata:this.getSizeData(sizepercent),group:group});case 11:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"shouldComponentUpdate\",value:function(){var _shouldComponentUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt(\"return\",true);case 1:case\"end\":return _context4.stop();}}},_callee4);}));function shouldComponentUpdate(){return _shouldComponentUpdate.apply(this,arguments);}return shouldComponentUpdate;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"MainDashboard\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flexLeft\"},/*#__PURE__*/React.createElement(MainHeader,{user:this.props.user}),/*#__PURE__*/React.createElement(Dashboard,{user:this.props.user,handleAddCoffee:this.handleAddCoffee,costpercent:this.state.costpercent,costdata:this.state.costdata,sizepercent:this.state.sizepercent,sizedata:this.state.sizedata})),/*#__PURE__*/React.createElement(\"div\",{className:\"flexRight\"},/*#__PURE__*/React.createElement(GroupView,{user:this.props.user,handleAddGroup:this.handleAddGroup,group:this.state.group,handleJoinGroup:this.props.handleJoinGroup})));}}]);return MainDashboard;}(Component);export default MainDashboard;","map":{"version":3,"sources":["/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/src/pages/MainDashboard/MainDashboard.jsx"],"names":["React","Component","coffeeService","groupService","MainHeader","Dashboard","GroupView","MainDashboard","state","coffees","theme","sumSize","sumCost","costpercent","costdata","getCostData","sizepercent","sizedata","getSizeData","group","handleAddCoffee","newCoffeeData","create","props","user","id","reduce","prev","cur","size","price","limitOfExpense","limitOfCoffee","setState","handleAddGroup","newGroupData","x","y","getAll","handleJoinGroup"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport coffeeService from '../../utils/coffeeService';\nimport groupService from '../../utils/groupService';\nimport MainHeader from '../../components/MainHeader/MainHeader';\nimport Dashboard from '../../components/Dashboard/Dashboard';\nimport GroupView from '../../components/GroupView/GroupView';\n\n\nclass MainDashboard extends Component{\n   state = {\n    coffees : [],\n    theme : 'light',\n    sumSize : 0,\n    sumCost : 0,\n    costpercent: 0,\n    costdata: this.getCostData(0),\n    sizepercent: 0,\n    sizedata: this.getSizeData(0),\n    group : [{}],\n    \n    \n   }\n\n  getCostData(costpercent) {\n      return [{ x: 1, y: costpercent }, { x: 2, y: 100 - costpercent }];\n  }\n  \n  getSizeData(sizepercent) {\n      return [{ x: 1, y: sizepercent }, { x: 2, y: 100 - sizepercent }];\n  }\n  handleAddCoffee = async newCoffeeData => {\n    const coffees = await coffeeService.create(newCoffeeData, this.props.user.id);\n    const sumSize = coffees.reduce(function(prev, cur) {\n      return prev + cur.size;\n    }, 0);\n    const sumCost = coffees.reduce(function(prev, cur){\n      return prev + cur.price;\n    }, 0);\n    const costpercent = (sumCost / this.props.user.limitOfExpense ) *100;\n    const sizepercent = (sumSize / this.props.user.limitOfCoffee ) *100;\n    this.setState({coffees, sumCost, sumSize, costpercent, costdata: this.getCostData(costpercent), sizepercent, sizedata: this.getSizeData(sizepercent)});\n  }\n\n  handleAddGroup = async newGroupData => {\n    const group = await groupService.create(newGroupData);\n    this.setState({group})\n  }\n\n  async componentDidMount() {\n    const coffees = await coffeeService.getAll(this.props.user.id);\n    const group = await groupService.getAll();\n    const sumSize = coffees.reduce(function(prev, cur) {\n      return prev + cur.size;\n    }, 0);\n    const sumCost = coffees.reduce(function(prev, cur){\n      return prev + cur.price;\n    }, 0);\n    const costpercent = (sumCost / this.props.user.limitOfExpense ) *100;\n    const sizepercent = (sumSize / this.props.user.limitOfCoffee ) *100;\n    this.setState({coffees, sumCost, sumSize, costpercent, costdata: this.getCostData(costpercent), sizepercent, sizedata: this.getSizeData(sizepercent), group});\n  }\n\n  async shouldComponentUpdate(){\n    return true;\n  }\n    render(){\n        return(\n            <div className='MainDashboard'>\n                <div className='flexLeft'>\n                <MainHeader user={this.props.user}></MainHeader>\n                <Dashboard user={this.props.user} handleAddCoffee={this.handleAddCoffee} costpercent={this.state.costpercent} costdata={this.state.costdata} sizepercent={this.state.sizepercent} sizedata={this.state.sizedata}>\n                </Dashboard>\n                </div>\n                <div className='flexRight'>\n                <GroupView user={this.props.user} handleAddGroup={this.handleAddGroup} group={this.state.group} handleJoinGroup={this.props.handleJoinGroup}></GroupView>\n                </div>\n                \n                \n            </div>\n        );\n    }\n}\n\nexport default MainDashboard;"]},"metadata":{},"sourceType":"module"}