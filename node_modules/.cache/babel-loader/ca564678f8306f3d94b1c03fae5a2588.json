{"ast":null,"code":"var _jsxFileName = \"/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/src/pages/ProfilePage/ProfilePage.jsx\";\nimport React, { Component } from \"react\";\nimport userService from \"../../utils/userService\";\nimport { Redirect } from \"react-router-dom\";\nexport class ProfilePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = evt => {\n      this.setState({\n        [evt.target.name]: evt.target.value\n      });\n    };\n\n    this.handleSubmit = async evt => {\n      evt.preventDefault();\n\n      try {\n        await userService.updateUser(this.state);\n        this.props.history.push(\"/profile\");\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.handleDelete = async evt => {\n      evt.preventDefault();\n\n      try {\n        console.log(this.props.user);\n        await userService.deleteUser(this.props.user);\n        this.setState({\n          isDeleted: true\n        });\n        this.props.handleDeleteProfile();\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.state = {\n      name: `${this.props.user.name}`,\n      limitOfCoffee: `${this.props.user.limitOfCoffee}`,\n      limitOfExpense: `${this.props.user.limitOfExpense}`,\n      isDeleted: false\n    };\n  }\n\n  render() {\n    if (this.state.isDeleted) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 20\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ProfilePage\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      });\n    }\n  }\n\n}\nexport default ProfilePage;","map":{"version":3,"sources":["/Users/yasamanloghmani/Desktop/CoffeeBreak-App/CoffeeBreak-App/coffeebreak/src/pages/ProfilePage/ProfilePage.jsx"],"names":["React","Component","userService","Redirect","ProfilePage","constructor","props","handleChange","evt","setState","target","name","value","handleSubmit","preventDefault","updateUser","state","history","push","err","console","log","handleDelete","user","deleteUser","isDeleted","handleDeleteProfile","limitOfCoffee","limitOfExpense","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAGA,OAAO,MAAMC,WAAN,SAA0BH,SAA1B,CAAoC;AAEvCI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAUnBC,YAVmB,GAUJC,GAAG,IAAI;AAClB,WAAKC,QAAL,CAAc;AACV,SAACD,GAAG,CAACE,MAAJ,CAAWC,IAAZ,GAAmBH,GAAG,CAACE,MAAJ,CAAWE;AADpB,OAAd;AAGH,KAdkB;;AAAA,SAgBnBC,YAhBmB,GAgBJ,MAAML,GAAN,IAAa;AACxBA,MAAAA,GAAG,CAACM,cAAJ;;AACA,UAAI;AACA,cAAMZ,WAAW,CAACa,UAAZ,CAAuB,KAAKC,KAA5B,CAAN;AACA,aAAKV,KAAL,CAAWW,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACH,OAHD,CAGE,OAAOC,GAAP,EAAY;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AACJ,KAxBkB;;AAAA,SA0BnBG,YA1BmB,GA0BJ,MAAMd,GAAN,IAAa;AACxBA,MAAAA,GAAG,CAACM,cAAJ;;AACA,UAAI;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKf,KAAL,CAAWiB,IAAvB;AACA,cAAMrB,WAAW,CAACsB,UAAZ,CAAuB,KAAKlB,KAAL,CAAWiB,IAAlC,CAAN;AACA,aAAKd,QAAL,CAAc;AAAEgB,UAAAA,SAAS,EAAE;AAAb,SAAd;AACA,aAAKnB,KAAL,CAAWoB,mBAAX;AACH,OALD,CAKE,OAAOP,GAAP,EAAY;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AACJ,KApCkB;;AAEf,SAAKH,KAAL,GAAa;AACTL,MAAAA,IAAI,EAAG,GAAE,KAAKL,KAAL,CAAWiB,IAAX,CAAgBZ,IAAK,EADrB;AAETgB,MAAAA,aAAa,EAAG,GAAE,KAAKrB,KAAL,CAAWiB,IAAX,CAAgBI,aAAc,EAFvC;AAGTC,MAAAA,cAAc,EAAI,GAAE,KAAKtB,KAAL,CAAWiB,IAAX,CAAgBK,cAAe,EAH1C;AAITH,MAAAA,SAAS,EAAE;AAJF,KAAb;AAMH;;AA8BDI,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKb,KAAL,CAAWS,SAAf,EAA0B;AACtB,0BAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH,KAFD,MAEO;AACH,0BACI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAKH;AACJ;;AAlDsC;AAqD3C,eAAerB,WAAf","sourcesContent":["import React, { Component } from \"react\";\nimport userService from \"../../utils/userService\";\nimport { Redirect } from \"react-router-dom\";\n\n\nexport class ProfilePage extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            name: `${this.props.user.name}`,\n            limitOfCoffee: `${this.props.user.limitOfCoffee}`,\n            limitOfExpense : `${this.props.user.limitOfExpense}`,\n            isDeleted: false\n        };\n    }\n\n    handleChange = evt => {\n        this.setState({\n            [evt.target.name]: evt.target.value\n        });\n    };\n\n    handleSubmit = async evt => {\n        evt.preventDefault();\n        try {\n            await userService.updateUser(this.state);\n            this.props.history.push(\"/profile\");\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    handleDelete = async evt => {\n        evt.preventDefault();\n        try {\n            console.log(this.props.user)\n            await userService.deleteUser(this.props.user);\n            this.setState({ isDeleted: true });\n            this.props.handleDeleteProfile();\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    render() {\n        if (this.state.isDeleted) {\n            return <Redirect to=\"/\" />;\n        } else {\n            return (\n                <div className=\"ProfilePage\">\n                    \n                </div>\n            );\n        }\n    }\n}\n\nexport default ProfilePage;"]},"metadata":{},"sourceType":"module"}